@namespace WebVella.Tefter.Talk.PageComponents
@inherits TucBaseSpaceNodeComponent

@if (Context.Mode == TfComponentMode.Read)
{
		<TalkThreadComponent ChannelId="_options.ChannelId" CurrentUser="@TfUserState.Value.CurrentUser"
						 SharedKeyValue="@Context.SpaceNodeId" Style="height:100%;margin:calc(-1 * var(--tf-body-content-padding));display:flex;" />
}
else if (Context.Mode == TfComponentMode.Create)
{
	<FluentGrid>
		<FluentGridItem xs="6">
			<FluentSelect SelectedOption="@_optionsChannel"
						  SelectedOptionChanged="_optionsChannelChangeHandler"
						  TOption="TalkChannel"
						  Items="@_channels" Style="width:100%"
						  OptionValue="@((p)=> p.Id.ToString())"
						  OptionText="@(p => p.Name)" Label="@LOC("Select view")"
						  Class="@GetValidationCssClass(nameof(_options.ChannelId))"
						  Value="@(_optionsChannel?.Id.ToString())" />
			<TfValidationMessage Field="@(nameof(_options.ChannelId))" Errors="ValidationErrors" />
		</FluentGridItem>
	</FluentGrid>

}
else
{

}


