@namespace WebVella.Tefter.TemplateProcessors.FileGroup.Addons
@inherits TfBaseComponent
@if (_loading)
{
	<TucLoadingPane />
}
else
{
	<FluentGrid>
		<FluentGridItem xs="12">
			<FluentInputLabel Label="@LOC("Group by columns")" />
			<TucSelectList Values=@_form.GroupBy
			               NoItemsMessage="@LOC("no data grouping will be applied")" />
		</FluentGridItem>
	</FluentGrid>
	<FluentGrid>
		<FluentGridItem xs="12">
			<FluentInputLabel Label="@LOC("Attachments")" />
			<table class="tf-grid" style="margin-top:15px;">
				<thead class="tf-grid-thead">
					<tr class="tf-grid-thead-bkg"></tr>
					<tr class="tf-grid-tr">
						<th class="tf-grid-th" style="width:60px;min-width:60px;">status</th>
						<th class="tf-grid-th" style="width:30px;min-width:30px;">icon</th>
						<th class="tf-grid-th">name</th>
					</tr>
				</thead>
				<tbody class="tf-grid-tbody">
					@foreach (var row in _attachmentsSelection)
					{
						<tr @key=row.TemplateId class="tf-grid-tr">
							<td class="tf-grid-td">
								<div>
									@if (row.Template.IsEnabled)
									{
										<FluentBadge Style="display:block" Appearance="@Appearance.Neutral">@LOC("ON")</FluentBadge>
									}
									else
									{
										<FluentBadge Style="display:block" Fill="somevalue" BackgroundColor="@TfColor.Emerald500.GetColor().OKLCH" Color="white">@LOC("OFF")</FluentBadge>
									}
								</div>
							</td>
							<td class="tf-grid-td">
								<div>
									<FluentIcon Value="@TfConstants.GetIcon(row.Template.FluentIconName)" />
								</div>
							</td>
							<td class="tf-grid-td">
								<div>
									@row.Template.Name
								</div>
							</td>
						</tr>
					}
					@if (_attachmentsSelection.Count == 0)
					{
						<tr class="tf-grid-tr">
							<td class="tf-grid-td" colspan="4">
								<div>
									@LOC("No attachments added")
								</div>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</FluentGridItem>
	</FluentGrid>

}