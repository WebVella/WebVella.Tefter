@namespace WebVella.Tefter.Talk.Components

@inherits TucBaseViewColumn<TfTalkCommentsCountComponentOptions>
@if (RegionContext.Mode == TfComponentPresentationMode.Display)
{

	<div>
		@if (_selectedChannel is null)
		{
			<div style="color:var(--error);" title="@LOC("channel is not configured")">error!</div>
		}
		else
		{
			<FluentCounterBadge Count="@((int?)_value)" VerticalPosition="35"
			                    Appearance="Appearance.Lightweight">
				<FluentButton Appearance="@Appearance.Outline" OnClick="_onClick" IconStart="@TfConstants.GetIcon("Comment")"/>
			</FluentCounterBadge>			
		}
	</div>


}
else if (RegionContext.Mode == TfComponentPresentationMode.Options)
{
	<FluentGrid>
		<FluentGridItem xs="6">
			<FluentInputLabel Label="@LOC("Channel")" />
			<TucSelect TOption="TalkChannel"
						  Items="_channels"
						  OptionValue="@((p)=> p.Id.ToString())"
						  OptionText="(x=> x.Name)"
						  SelectedOption="_selectedChannel"
						  SelectedOptionChanged="_channelSelectHandler" />
		</FluentGridItem>

	</FluentGrid>
}
else
{
	<div style="color:red">@LOC("Component Mode Not implemented")</div>
}


