@namespace WebVella.Tefter.Web.Pages
@page "/admin/data-providers"
@page "/admin/data-providers/{ProviderId:guid}/{*Path}"

@layout AdminLayout
@inherits TfBasePage

<TfLayoutBody>
	<Aside>
		<TfAdminDataProviderNavigation />
	</Aside>
	<ChildContent>
		@if (ProviderId == Guid.Empty)
		{
			<TfLayoutBodyMain>
				<Header>
					<TfLayoutBodyMainHeader>
						<TfPageHeader>@LOC("Data Providers")</TfPageHeader>
					</TfLayoutBodyMainHeader>
				</Header>
				<ChildContent>
					<FluentMessageBar Title="Under Construction" AllowDismiss="false"
									  Intent="@MessageIntent.Info" Style="margin-bottom:10px;">
						<div>TBD: Data Provider dashboard with various height level overview information</div>
					</FluentMessageBar>
					<FluentMessageBar Title="HOW TO PROCEED" AllowDismiss="false"
									  Intent="@MessageIntent.Warning">
						<div>Select provider from the list to review and manage it</div>
					</FluentMessageBar>
				</ChildContent>
			</TfLayoutBodyMain>
		}
		else
		{
			var urlData = Navigator.GetRouteState();
			<TfLayoutBodyMain>
				<Header>
					<TfLayoutBodyMainHeader>
						<ChildContent>
							<TfPageHeader>@TfAppState.Value.AdminDataProvider?.Name</TfPageHeader>
						</ChildContent>
						<Aside>
							<TfAdminDataProviderDetailsNav />
						</Aside>
					</TfLayoutBodyMainHeader>
				</Header>
				<ChildContent>
					@if (!urlData.NodesDict.ContainsKey(3))
					{
						<TfAdminDataProviderDetails />
					}
					else if (urlData.NodesDict[3] == "schema")
					{
						<TfAdminDataProviderSchema />
					}
					else if (urlData.NodesDict[3] == "keys")
					{
						<TfAdminDataProviderKeys />
					}
					else if (urlData.NodesDict[3] == "aux")
					{
						<TfAdminDataProviderAux />
					}
					else if (urlData.NodesDict[3] == "synchronization")
					{
						<TfAdminDataProviderSynchronization />
					}
					else if (urlData.NodesDict[3] == "data")
					{
						<TfAdminDataProviderData />
					}
				</ChildContent>
			</TfLayoutBodyMain>
		}
	</ChildContent>
</TfLayoutBody>

