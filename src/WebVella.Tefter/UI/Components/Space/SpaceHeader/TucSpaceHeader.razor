@namespace WebVella.Tefter.UI.Components
@inherits TfBaseComponent
@{
    var state = TfAuthLayout.GetState();
}
@if (state.NavigationState.HasNode(RouteDataNode.Home, 0))
{
    <div class="tf-space-header">
        <div class="tf-space-header__icon">
            <FluentIcon Value="@TfConstants.GetIcon("Home")" Focusable="false"></FluentIcon>
        </div>
        <div class="tf-space-header__meta">
            <div class="tf-space-header__meta__title">@LOC("Home")</div>
        </div>
    </div>
}
else if (state.NavigationState.HasNode(RouteDataNode.Space, 0))
{
    <div class="tf-space-header" id="tf-space-header">
        <div class="tf-space-header__icon">
            <FluentIcon Value="@TfConstants.GetIcon(_space?.FluentIconName ?? "Circle")" Focusable="false"></FluentIcon>
        </div>
        <div class="tf-space-header__meta">
            <div class="tf-space-header__meta__title">@(_space?.Name ?? LOC("Space"))</div>
        </div>
    </div>
    <FluentMenu Anchor="tf-space-header" Trigger="MouseButton.Right" Anchored="false" UseMenuService="true">
        <FluentMenuItem Disabled="true">
            @LOC("Current Space")
            <span slot="start">
                <FluentIcon Value="@(TfConstants.GetIcon(state.Space?.FluentIconName)!.WithColor("var(--neutral-foreground-hint)"))" Slot="start" />
            </span>
        </FluentMenuItem>
        <FluentDivider />
        <FluentMenuItem OnClick="@_manageCurrentSpace">
            @LOC("Space Properties")
            <span slot="start">
                <FluentIcon Value="@TfConstants.GetIcon("Settings")" Slot="start" />
            </span>
        </FluentMenuItem>
        <FluentMenuItem OnClick="@_deleteSpace">
            @LOC("Delete Space")
            <span slot="start">
                <FluentIcon Value="@(TfConstants.GetIcon("Delete")!.WithColor(Color.Error))" Slot="start" />
            </span>
        </FluentMenuItem>
    </FluentMenu>
}
else
{
    <div class="tf-space-header">
        <div class="tf-space-header__icon">
            <FluentIcon Value="@TfConstants.GetIcon("Settings")" Focusable="false"></FluentIcon>
        </div>
        <div class="tf-space-header__meta">
            <div class="tf-space-header__meta__title">@LOC("Administration")</div>
        </div>
    </div>
}
