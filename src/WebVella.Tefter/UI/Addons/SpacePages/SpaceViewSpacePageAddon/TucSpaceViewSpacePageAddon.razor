@namespace WebVella.Tefter.UI.Addons
@inherits TucBaseSpacePageComponent

@if (Context.Mode == TfComponentMode.Read)
{
	<TucSpaceViewPageContent Context="Context" />
}
else if (Context.Mode == TfComponentMode.Create)
{
	<FluentGrid>
		<FluentGridItem xs="6">
			@if (_allDatasets.Count == 0)
			{
				<FluentTextField Disabled="true" TextFieldType="@TextFieldType.Text"
								 Label="@LOC("Dataset")" Style="width:100%" Placeholder="@LOC("No dataset create in this space yet")" />
			}
			else
			{
				<TucSelect SelectedOption="@_selectedDataset"
						   SelectedOptionChanged="@(async (x) => await _valueChanged(nameof(_options.DatasetId),x))"
						   TOption="TfDataset" Placeholder="@LOC("select dataset ...")"
						   Items="@_allDatasets" Style="width:100%"
						   OptionValue="@((p)=> p.Id.ToString())"
						   OptionText="@(p => p.Name)" Label="@LOC("Dataset")" />
				<TucValidationMessage Field="@(nameof(_options.DatasetId))" Errors="ValidationErrors" />
			}
		</FluentGridItem>
	</FluentGrid>
}
else if (Context.Mode == TfComponentMode.Update)
{
	<FluentMessageBar AllowDismiss="false" Intent="@MessageIntent.Info">@LOC("No options available for update")</FluentMessageBar>
}
else if (Context.Mode == TfComponentMode.Manage)
{
	<TucSpaceViewManagePageContent Context="Context" />
}
else
{
	<FluentMessageBar AllowDismiss="false" Intent="@MessageIntent.Error">@LOC("Mode: {0} not supported",Context.Mode.ToString())</FluentMessageBar>
}


